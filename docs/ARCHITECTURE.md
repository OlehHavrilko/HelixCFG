# ARCHITECTURE
## Архитектура HelixCFG и взаимодействие модулей

---

## Назначение архитектуры

Архитектура HelixCFG построена вокруг строгого разделения ответственности между слоями системы.
Проект рассматривает конфигурацию ПК как анализируемую систему, а не просто набор товаров.

Цели архитектуры:
- детерминированность логики,
- объяснимость всех решений,
- масштабируемость,
- готовность к e-commerce без переписывания ядра.

---

## Высокоуровневая схема

UI / 3D
  ↓
Build State
  ↓
Domain Core
  ├─ CompatibilityEngine
  ├─ BalanceEngine
  ├─ RecommendationEngine
  ├─ PricingEngine
  ↓
BuildReport
  ↓
UI / 3D (отображение)

---

## Слои системы

### UI Layer
Отвечает за:
- шаги конфигуратора,
- выбор компонентов,
- отображение ошибок, предупреждений и рекомендаций,
- итоговую стоимость.

UI не содержит логики совместимости и анализа.

---

### Domain Core
Центральное ядро проекта.

Содержит:
- правила совместимости,
- анализ баланса системы,
- логику рекомендаций,
- расчет цен.

Все решения принимаются только здесь.

---

### Data Layer
Отвечает за:
- каталог комплектующих,
- цены,
- правила анализа.

На текущем этапе используются статические данные.
В будущем слой заменяется провайдерами.

---

### 3D Layer
Отвечает исключительно за визуализацию:
- корпус,
- слоты,
- размещение компонентов,
- габаритные конфликты.

3D-слой не принимает решений.

---

## BuildReport

Единый результат анализа сборки.

Содержит:
- итоговую цену,
- список компонентов,
- ошибки,
- предупреждения,
- рекомендации,
- сводку состояния сборки.

UI и 3D работают **только** с BuildReport.

---

## Базовые принципы

- доменная логика важнее UI
- любая ошибка объяснима
- рекомендации всегда аргументированы
- один источник истины

---
